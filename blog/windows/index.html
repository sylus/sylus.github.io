<!DOCTYPE html>
<html lang='en'><head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='Windows and Kubernetes Windows is reaching near parity with Linux in terms of its support for Kubernetes. Due to this we can support various types of Windows workloads in a container and consequently to run in Kubernetes cluster. During the course of this presentation, we&rsquo;ll go over some of the key considerations such as handling secrets, required node selectors, and other common differences you may encounter in clusters with Windows &amp; Linux nodes.'>
<meta name='theme-color' content='#0db7ed'>

<meta property='og:title' content='Deploying Windows Apps with Kubernetes • William Hearn'>
<meta property='og:description' content='Windows and Kubernetes Windows is reaching near parity with Linux in terms of its support for Kubernetes. Due to this we can support various types of Windows workloads in a container and consequently to run in Kubernetes cluster. During the course of this presentation, we&rsquo;ll go over some of the key considerations such as handling secrets, required node selectors, and other common differences you may encounter in clusters with Windows &amp; Linux nodes.'>
<meta property='og:url' content='http://sylus.ca/blog/windows/'>
<meta property='og:site_name' content='William Hearn'>
<meta property='og:type' content='article'><meta property='og:image' content='https://www.gravatar.com/avatar/eca9a4ec0967837e98593484bf64424a?s=256'><meta property='article:section' content='blog'><meta property='article:tag' content='windows'><meta property='article:tag' content='containers'><meta property='article:tag' content='.net'><meta property='article:published_time' content='2019-01-17T22:00:27-04:00'/><meta property='article:modified_time' content='2019-01-17T22:00:27-04:00'/><meta name='twitter:card' content='summary'><meta name='twitter:creator' content='@william_hearn'>

<meta name="generator" content="Hugo 0.53" />

  <title>Deploying Windows Apps with Kubernetes • William Hearn</title>
  <link rel='canonical' href='http://sylus.ca/blog/windows/'>
  
  
  <link rel='icon' href='/favicon.ico'>
<link rel='stylesheet' href='/assets/css/main.4a10984a.css'><link rel='stylesheet' href='/css/custom.css'><style>
:root{--color-accent:#0db7ed;}
</style>

  

</head>
<body class='page type-blog has-sidebar'>

  <div class='site'><div id='sidebar' class='sidebar'>
  <a class='screen-reader-text' href='#main-menu'>Skip to Main Menu</a>

  <div class='container'><section class='widget widget-about sep-after'>
  <header>
    
    <div class='logo'>
      <a href='/'>
        <img src='/images/logo.png'>
      </a>
    </div>
    
    <h2 class='title site-title '>
    William Hearn
    </h2>
    <div class='desc'>
    Technical Architect, Cloud Ops @ Statistics Canada
    </div>
  </header>

</section>
<section class='widget widget-taxonomy_cloud sep-after'>
  <header>
    <h4 class='title widget-title'>Tags</h4>
  </header>

  <div class='container list-container'>
  <ul class='list taxonomy-cloud'><li>
        <a href='/tags/.net/' style='font-size:1em'>.net</a>
      </li><li>
        <a href='/tags/aks/' style='font-size:1em'>AKS</a>
      </li><li>
        <a href='/tags/azure/' style='font-size:1em'>azure</a>
      </li><li>
        <a href='/tags/containers/' style='font-size:1em'>containers</a>
      </li><li>
        <a href='/tags/resume/' style='font-size:1em'>resume</a>
      </li><li>
        <a href='/tags/windows/' style='font-size:1em'>windows</a>
      </li></ul>
</div>


</section>
</div>

  <div class='sidebar-overlay'></div>
</div><div class='main'><nav id='main-menu' class='menu main-menu' aria-label='Main Menu'>
  <div class='container'>
    <a class='screen-reader-text' href='#content'>Skip to Content</a>

<button id='sidebar-toggler' class='sidebar-toggler' aria-controls='sidebar'>
  <span class='screen-reader-text'>Toggle Sidebar</span>
  <span class='open'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="3" y1="12" x2="21" y2="12" />
  <line x1="3" y1="6" x2="21" y2="6" />
  <line x1="3" y1="18" x2="21" y2="18" />
  
</svg>
</span>
  <span class='close'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="18" y1="6" x2="6" y2="18" />
  <line x1="6" y1="6" x2="18" y2="18" />
  
</svg>
</span>
</button>
    <ul><li class='item'>
        <a href='/'>Home</a>
      </li><li class='item'>
        <a href='/blog/'>Blog</a>
      </li><li class='item'>
        <a href='/resum%C3%A9/'>Resumé</a>
      </li><li class='item'>
        <a href='https://github.com/sylus/website'>Repo</a>
      </li></ul>
  </div>
</nav><div class='header-widgets'>
        <div class='container'></div>
      </div>

      <header id='header' class='header site-header'>
        <div class='container sep-after'>
          <div class='header-info'><p class='site-title title'>William Hearn</p><p class='desc site-desc'>Technical Architect, Cloud Ops @ Statistics Canada</p>
          </div>
        </div>
      </header>

      <main id='content'>


<article lang='en' class='entry'>
  <header class='header entry-header'>
  <div class='container sep-after'>
    <div class='header-info'>
      <h1 class='title'>Deploying Windows Apps with Kubernetes</h1>
      

    </div>
    <div class='entry-meta'>
  <span class='posted-on'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>
<span class='screen-reader-text'>Posted on </span>
  <time class='entry-date' datetime='2019-01-17T22:00:27-04:00'>2019, Jan 17</time>
</span>

  <span class='byline'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M21,21V20c0-2.76-4-5-9-5s-9,2.24-9,5v1"/>
  <path d="M16,6.37A4,4,0,1,1,12.63,3,4,4,0,0,1,16,6.37Z"/>
  
</svg>
<span class='screen-reader-text'> by </span><a href='/authors/sylus'>William Hearn</a></span>
  
<span class='reading-time'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <circle cx="12" cy="12" r="10"/>
  <polyline points="12 6 12 12 15 15"/>
  
</svg>
11 mins read
</span>


</div>


  </div>
</header>

  
  
<details class='container entry-toc'>
  <summary class='title'>
    <span>Table of Contents</span>
  </summary>
  <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#windows-and-kubernetes">Windows and Kubernetes</a></li>
<li><a href="#roadmap">Roadmap</a></li>
<li><a href="#building-windows-containers">Building Windows Containers</a>
<ul>
<li><a href="#kernel-user-compatibility">Kernel / User compatibility</a></li>
<li><a href="#nuget">NuGet</a></li>
<li><a href="#csproj">*.csproj</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#dockerfile">Dockerfile</a>
<ul>
<li><a href="#wcf">WCF</a></li>
</ul></li>
</ul></li>
<li><a href="#building-hybrid-clusters">Building Hybrid Clusters</a>
<ul>
<li><a href="#aks-engine-cluster-definition">AKS Engine Cluster Definition</a></li>
</ul></li>
<li><a href="#orchestration">Orchestration</a>
<ul>
<li><a href="#considerations">Considerations</a></li>
</ul></li>
<li><a href="#release-automation">Release Automation</a>
<ul>
<li><a href="#jenkins">Jenkins</a>
<ul>
<li><a href="#jenkinsfile">Jenkinsfile</a></li>
</ul></li>
</ul></li>
<li><a href="#developer-perspective">Developer Perspective</a>
<ul>
<li><a href="#anti-patterns">Anti-Patterns</a></li>
</ul></li>
<li><a href="#debugging">Debugging</a></li>
<li><a href="#debugging-windows-container-with-docker-compose">Debugging Windows Container with Docker Compose</a></li>
<li><a href="#debugging-windows-nodes">Debugging Windows Nodes</a></li>
<li><a href="#help">Help</a></li>
<li><a href="#referenced-links-in-order-they-appear">Referenced Links (In order they appear)</a></li>
</ul></li>
</ul>
</nav>
</details>


  <div class='container entry-content'>
  

<h2 id="windows-and-kubernetes">Windows and Kubernetes</h2>

<p>Windows is reaching near parity with Linux in terms of its support for Kubernetes. Due to this we can support various types of Windows workloads in a container and consequently to run in Kubernetes cluster. During the course of this presentation, we&rsquo;ll go over some of the key considerations such as handling secrets, required node selectors, and other common differences you may encounter in clusters with Windows &amp; Linux nodes.</p>

<p>Once the fundamentals are in place we can then move on to setting up the full developer workflow where we will go over how to create a new app using both .NET Framework (WCF, Console, MVC) and .NET Core using the various tools at our disposal.</p>

<p>This includes a discussion of the following tools:</p>

<ul>
<li><a href="https://draft.sh/" target="_blank">Draft</a></li>
<li><a href="https://helm.sh/" target="_blank">Helm</a></li>
<li><a href="https://jenkins.io/" target="_blank">Jenkins</a></li>
<li><a href="https://octopus.com" target="_blank">Octopus</a></li>
<li><a href="https://jfrog.com/artifactory/" target="_blank">Artifactory</a> / <a href="https://jfrog.com/xray/" target="_blank">XRay</a></li>
</ul>

<h2 id="roadmap">Roadmap</h2>

<p>There has been significant work on getting Kubernetes to support Windows applications and much of the heavy lifting has been done by Microsoft. This is why Azure is the only CSP at the moment to support Windows workloads in Kubernetes.</p>

<table>
<thead>
<tr>
<th>2016-2017</th>
<th>2017-2018</th>
<th>2018-2019</th>
</tr>
</thead>

<tbody>
<tr>
<td>Containers in Windows Server (preview)</td>
<td>Parity with core k8s features (configmap, pvc, dns resolution)</td>
<td>Windows Server 2019 / 1809</td>
</tr>

<tr>
<td>SIG-Windows formed (Apprenda, TicketMaster, Docker, Huawei, etc)</td>
<td>Networking (CNI) and storage improved in k8s 1.6 - 1.10</td>
<td>Product preview coming (AKS, Docker, RedHat)</td>
</tr>

<tr>
<td>Kubernetes 1.5 alpha using Windows Server 2016</td>
<td>Windows Server 1709 / 1803 (number of containers + patch)</td>
<td>Testing, docs for v1.13+ and stable for v1.14</td>
</tr>
</tbody>
</table>

<blockquote>
<p>Note: Windows Server 1709 / 1803 currently need patches to address issues with larger numbers of containers</p>
</blockquote>

<h2 id="building-windows-containers">Building Windows Containers</h2>

<ul>
<li>Nuget Restore -&gt; Build solution -&gt; Image build -&gt; Package -&gt; Deploy</li>
<li>Common Core / Proper Dependency Handling</li>
<li>Single repo for separate functionality</li>
</ul>

<h3 id="kernel-user-compatibility">Kernel / User compatibility</h3>

<ul>
<li>Windows kernel major version needs to match</li>
<li>If built on Windows Server 2019 then must run on same version</li>
<li>Hyper-V isolation can run older containers on a newer node</li>
</ul>

<h3 id="nuget">NuGet</h3>

<ul>
<li>NuSpec -&gt; NuGet -&gt; Package.config</li>
<li>Encrypted Key</li>
<li>Common Core DLL&rsquo;s pulled in</li>
<li>Don&rsquo;t store dependencies, only source code</li>
</ul>

<p>The NuGet.config file should have the following added to it if leveraging Artifactory:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">&lt;add key<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ArtifactoryNuGetV3&#34;</span> value<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://&lt;domain&gt;/artifactory/api/nuget/v3/nuget&#34;</span> protocolVersion<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;3&#34;</span> /&gt;</code></pre></div>
<p>Then to authenticate against Artifactory with the NuGet Encrypted API key, run the following command:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">nuget setapikey &lt;USERNAME&gt;:&lt;PASSWORD&gt; -Source ArtifactoryNuGetV3</code></pre></div>
<p>To configure the NuGet Visual Studio Extension to use Artifactory, you need to add this repository as another Package Source under Nuget Package Manager.</p>

<p><code>Tools &gt; NuGet Package Manager &gt; Settings &gt; Package Sources</code></p>

<ol>
<li>Go to the &ldquo;Package Manager Settings&rdquo;</li>
<li>Add a custom name for the package source</li>
<li>Follow the steps mentioned above</li>
</ol>

<h3 id="csproj">*.csproj</h3>

<p>Depending on the project type and architecture you might need to modify the *.csproj file.</p>

<ul>
<li>Support all types of builds (CLI, Visual Studio, Docker)</li>
<li>In-place building + publishing profile</li>
<li>No relative includes</li>
<li>Only use assembly references needed</li>
</ul>

<h3 id="configuration">Configuration</h3>

<ul>
<li>Environment variables passed at runtime</li>
<li>Proper overrides of web.config and related configuration</li>
<li>Leverage KeyVault for connection strings, etc (easily change environments)</li>
</ul>

<p>Where possible you should never bake your configuration settings inside your docker container. A much better approach is to supply the transformation at the time of container startup.</p>

<p>One of the biggest benefits of using containers is the ability to wrap your application and its dependencies into an immutable image. This image is built once and deployed to different environments as it progresses through a continuous delivery pipeline.</p>

<p>As the application is deployed, we can then pass variables or mount configuration files into the container to configure it for the given environment. This ensures that we deploy the exact same application to production as the one tested in other environments. This approach also helps keep secrets out of container images.</p>

<ul>
<li><a href="https://anthonychu.ca/post/aspnet-web-config-transforms-windows-containers-revisited/" target="_blank">Legacy Support</a></li>
<li><a href="https://fluentbytes.com/override-classic-asp-net-web-config-configuration-settings-when-using-docker-containers/" target="_blank">Configuration Builder</a></li>
</ul>

<h3 id="dockerfile">Dockerfile</h3>

<ul>
<li>Multi-stage build (keep final image small)</li>
<li>Types of base images (sdk, runtime)</li>
<li>Handling IIS webservers</li>
<li>MSBuild Parameters and Publish Profiles

<ul>
<li>Difference between msbuild and dotnet (cli)</li>
<li>4.6.1+ needs msbuild because dotnet doesn&rsquo;t compile</li>
</ul></li>
<li>Dockerignore (ensure Docker does all the building)</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">bin
obj
packages
Dockerfile
Jenkinsfile</code></pre></div>
<p>There are a variety of supported Windows environments:</p>

<ul>
<li>Windows Server 2016</li>
<li>Windows Server 1803</li>
<li>Windows Server 1809</li>
<li>Windows Server 2019</li>
</ul>

<p>For each of the Windows environments you have the supported targets:</p>

<ul>
<li>dotnet (microsoft/dotnet-framework:4.7.2-runtime)</li>
<li>aspnet (microsoft/aspnet:4.7.2 AS runtime)</li>
<li>wcf (microsoft/wcf:4.7.2 AS runtime)</li>
</ul>

<p>The following is an example of a full Dockerfile for working with WCF.</p>

<h4 id="wcf">WCF</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#75715e"># escape=`</span>

<span style="color:#75715e"># WCF Server 1803</span>
FROM &lt;domain&gt;:443/docker-remote/microsoft/dotnet-framework:4.7.2-sdk AS build
WORKDIR /app

<span style="color:#75715e"># Build and package dotnet app</span>
COPY . .
RUN nuget restore
RUN msbuild /p:Configuration<span style="color:#f92672">=</span>Release /p:DeployOnBuild<span style="color:#f92672">=</span>true /p:PublishProfile<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;FolderProfile.pubxml&#34;</span>

<span style="color:#75715e"># Multi stage build</span>
FROM &lt;domain&gt;:443/docker-remote/microsoft/wcf:4.7.2-windowsservercore-1803 as runtime

RUN MKDIR AuditLog
WORKDIR AuditLog
COPY --from<span style="color:#f92672">=</span>build /app/bin/Release/Publish ./

<span style="color:#75715e"># Configuration of the new site in IIS</span>
RUN powershell -NoProfile -Command <span style="color:#e6db74">`</span>
    Import-module IISAdministration; <span style="color:#e6db74">`</span>
    New-IISSite -Name <span style="color:#e6db74">&#34;AuditLog&#34;</span> -PhysicalPath C:<span style="color:#ae81ff">\S</span>cripts<span style="color:#ae81ff">\A</span>uditLog -BindingInformation <span style="color:#e6db74">&#34;*:83:&#34;</span>

EXPOSE <span style="color:#ae81ff">83</span></code></pre></div>
<h2 id="building-hybrid-clusters">Building Hybrid Clusters</h2>

<ul>
<li>Apps across multiple nodes + operating systems</li>
<li>Same workflow regardless of node (api, kubectl, helm)</li>
<li>Manage Linux from Windows, and Windows from Linux</li>
<li>Same supporting container infrastructure (container registries)</li>
</ul>

<p>There are currently two ways to leverage Windows workloads in Kubernetes on Azure. For the purposes of this presentation we will only be talking about how to use AKS Engine.</p>

<ol>
<li>Leverage AKS-Engine</li>
<li>Manually add a Windows virtual machine to the cluster</li>
</ol>

<blockquote>
<p>Note: Managed AKS with Windows support should be general availability by the end of March 2019.</p>
</blockquote>

<h3 id="aks-engine-cluster-definition">AKS Engine Cluster Definition</h3>

<p>The following snippet is the initial cluster definition we pass to AKS Engine in order for it to generate the complete ARM deployments along with the configuration that Kubernetes expects.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh"><span style="color:#f92672">{</span>
  <span style="color:#e6db74">&#34;apiVersion&#34;</span>: <span style="color:#e6db74">&#34;vlabs&#34;</span>,
  <span style="color:#e6db74">&#34;properties&#34;</span>: <span style="color:#f92672">{</span>
    <span style="color:#e6db74">&#34;orchestratorProfile&#34;</span>: <span style="color:#f92672">{</span>
      <span style="color:#e6db74">&#34;orchestratorType&#34;</span>: <span style="color:#e6db74">&#34;Kubernetes&#34;</span>,
      <span style="color:#e6db74">&#34;orchestratorRelease&#34;</span>: <span style="color:#e6db74">&#34;1.12&#34;</span>,
      <span style="color:#e6db74">&#34;kubernetesConfig&#34;</span>: <span style="color:#f92672">{</span>
        <span style="color:#e6db74">&#34;useManagedIdentity&#34;</span>: true,
        <span style="color:#e6db74">&#34;userAssignedID&#34;</span>: <span style="color:#e6db74">&#34;k8s-prod-msi&#34;</span>,
        <span style="color:#e6db74">&#34;enableDataEncryptionAtRest&#34;</span>: true,
        <span style="color:#e6db74">&#34;enableEncryptionWithExternalKms&#34;</span>: true,
        <span style="color:#e6db74">&#34;enableRbac&#34;</span>: true,
        <span style="color:#e6db74">&#34;privateCluster&#34;</span>: <span style="color:#f92672">{</span>
          <span style="color:#e6db74">&#34;enabled&#34;</span>: true
        <span style="color:#f92672">}</span>,
        <span style="color:#e6db74">&#34;networkPolicy&#34;</span>: <span style="color:#e6db74">&#34;azure&#34;</span>,
        <span style="color:#e6db74">&#34;enableRbac&#34;</span>: true,
        <span style="color:#e6db74">&#34;kubeletConfig&#34;</span>: <span style="color:#f92672">{</span>
          <span style="color:#e6db74">&#34;--allow-privileged&#34;</span>: <span style="color:#e6db74">&#34;true&#34;</span>,
          <span style="color:#e6db74">&#34;--anonymous-auth&#34;</span>: <span style="color:#e6db74">&#34;false&#34;</span>,
          <span style="color:#e6db74">&#34;--max-pods&#34;</span>: <span style="color:#e6db74">&#34;60&#34;</span>,
          <span style="color:#e6db74">&#34;--network-plugin&#34;</span>: <span style="color:#e6db74">&#34;cni&#34;</span>
        <span style="color:#f92672">}</span>,
        <span style="color:#e6db74">&#34;gcHighThreshold&#34;</span>:85,
        <span style="color:#e6db74">&#34;gcLowThreshold&#34;</span>: <span style="color:#ae81ff">80</span>,
        <span style="color:#e6db74">&#34;apiServerConfig&#34;</span>: <span style="color:#f92672">{</span>
          <span style="color:#e6db74">&#34;--allow-privileged&#34;</span>: <span style="color:#e6db74">&#34;true&#34;</span>,
          <span style="color:#e6db74">&#34;--anonymous-auth&#34;</span>: <span style="color:#e6db74">&#34;false&#34;</span>,
        <span style="color:#f92672">}</span>,
        <span style="color:#e6db74">&#34;addons&#34;</span>: <span style="color:#f92672">[</span>
          <span style="color:#f92672">{</span>
            <span style="color:#e6db74">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;tiller&#34;</span>,
            <span style="color:#e6db74">&#34;enabled&#34;</span>: true
          <span style="color:#f92672">}</span>,
          <span style="color:#f92672">{</span>
            <span style="color:#e6db74">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;kubernetes-dashboard&#34;</span>,
            <span style="color:#e6db74">&#34;enabled&#34;</span>: true
          <span style="color:#f92672">}</span>,
          <span style="color:#f92672">{</span>
            <span style="color:#e6db74">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;container-monitoring&#34;</span>,
            <span style="color:#e6db74">&#34;enabled&#34;</span>: true
          <span style="color:#f92672">}</span>,
          <span style="color:#f92672">{</span>
            <span style="color:#e6db74">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;rescheduler&#34;</span>,
            <span style="color:#e6db74">&#34;enabled&#34;</span> : true
          <span style="color:#f92672">}</span>
        <span style="color:#f92672">]</span>
      <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>,
    <span style="color:#e6db74">&#34;masterProfile&#34;</span>: <span style="color:#f92672">{</span>
      <span style="color:#e6db74">&#34;count&#34;</span>: <span style="color:#ae81ff">1</span>,
      <span style="color:#e6db74">&#34;dnsPrefix&#34;</span>: <span style="color:#e6db74">&#34;k8s-aks-production&#34;</span>,
      <span style="color:#e6db74">&#34;vmSize&#34;</span>: <span style="color:#e6db74">&#34;Standard_D4s_v3&#34;</span>,
      <span style="color:#e6db74">&#34;OSDiskSizeGB&#34;</span>: <span style="color:#ae81ff">200</span>,
      <span style="color:#e6db74">&#34;vnetSubnetId&#34;</span>: <span style="color:#e6db74">&#34;/subscriptions/&lt;subscription_id&gt;/resourceGroups/&lt;network_rg&gt;/providers/Microsoft.Network/virtualNetworks/&lt;vnet&gt;/subnets/Container-Rz-Master&#34;</span>,
      <span style="color:#e6db74">&#34;firstConsecutiveStaticIP&#34;</span>: <span style="color:#e6db74">&#34;XXX.XX.X.X&#34;</span>,
      <span style="color:#e6db74">&#34;vnetCidr&#34;</span>: <span style="color:#e6db74">&#34;XXX.XX.X.X/24&#34;</span>
    <span style="color:#f92672">}</span>,
    <span style="color:#e6db74">&#34;agentPoolProfiles&#34;</span>: <span style="color:#f92672">[</span>
      <span style="color:#f92672">{</span>
        <span style="color:#e6db74">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;linuxpool1&#34;</span>,
        <span style="color:#e6db74">&#34;count&#34;</span>: <span style="color:#ae81ff">2</span>,
        <span style="color:#e6db74">&#34;customNodeLabels&#34;</span>: <span style="color:#f92672">{</span>
          <span style="color:#e6db74">&#34;os&#34;</span>: <span style="color:#e6db74">&#34;linux&#34;</span>
        <span style="color:#f92672">}</span>,
        <span style="color:#e6db74">&#34;vmSize&#34;</span>: <span style="color:#e6db74">&#34;Standard_D8s_v3&#34;</span>,
        <span style="color:#e6db74">&#34;OSDiskSizeGB&#34;</span>: <span style="color:#ae81ff">200</span>,
        <span style="color:#e6db74">&#34;storageProfile&#34;</span> : <span style="color:#e6db74">&#34;ManagedDisks&#34;</span>,
        <span style="color:#e6db74">&#34;availabilityProfile&#34;</span>: <span style="color:#e6db74">&#34;AvailabilitySet&#34;</span>,
        <span style="color:#e6db74">&#34;vnetSubnetId&#34;</span>: <span style="color:#e6db74">&#34;/subscriptions/&lt;subscription_id&gt;/resourceGroups/&lt;network_rg&gt;/providers/Microsoft.Network/virtualNetworks/&lt;vnet&gt;/subnets/&lt;subnet&gt;&#34;</span>
      <span style="color:#f92672">}</span>,
      <span style="color:#f92672">{</span>
        <span style="color:#e6db74">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;windowspool1&#34;</span>,
        <span style="color:#e6db74">&#34;count&#34;</span>: <span style="color:#ae81ff">1</span>,
        <span style="color:#e6db74">&#34;customNodeLabels&#34;</span>: <span style="color:#f92672">{</span>
          <span style="color:#e6db74">&#34;os&#34;</span>: <span style="color:#e6db74">&#34;windows&#34;</span>
        <span style="color:#f92672">}</span>,
        <span style="color:#e6db74">&#34;osType&#34;</span>: <span style="color:#e6db74">&#34;Windows&#34;</span>,
        <span style="color:#e6db74">&#34;vmSize&#34;</span>: <span style="color:#e6db74">&#34;Standard_D8s_v3&#34;</span>,
        <span style="color:#e6db74">&#34;OSDiskSizeGB&#34;</span>: <span style="color:#ae81ff">200</span>,
        <span style="color:#e6db74">&#34;storageProfile&#34;</span> : <span style="color:#e6db74">&#34;ManagedDisks&#34;</span>,
        <span style="color:#e6db74">&#34;availabilityProfile&#34;</span>: <span style="color:#e6db74">&#34;AvailabilitySet&#34;</span>,
        <span style="color:#e6db74">&#34;vnetSubnetId&#34;</span>: <span style="color:#e6db74">&#34;/subscriptions/&lt;subscription_id&gt;/resourceGroups/&lt;network_rg&gt;/providers/Microsoft.Network/virtualNetworks/&lt;vnet&gt;/subnets/&lt;subnet&gt;&#34;</span>
      <span style="color:#f92672">}</span>
    <span style="color:#f92672">]</span>,
    <span style="color:#e6db74">&#34;linuxProfile&#34;</span>: <span style="color:#f92672">{</span>
      <span style="color:#e6db74">&#34;adminUsername&#34;</span>: <span style="color:#e6db74">&#34;azureuser&#34;</span>,
      <span style="color:#e6db74">&#34;ssh&#34;</span>: <span style="color:#f92672">{</span>
        <span style="color:#e6db74">&#34;publicKeys&#34;</span>: <span style="color:#f92672">[</span>
          <span style="color:#f92672">{</span>
            <span style="color:#e6db74">&#34;keyData&#34;</span>: <span style="color:#e6db74">&#34;ssh-rsa ...&#34;</span>
          <span style="color:#f92672">}</span>
        <span style="color:#f92672">]</span>
      <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>,
    <span style="color:#e6db74">&#34;windowsProfile&#34;</span>: <span style="color:#f92672">{</span>
      <span style="color:#e6db74">&#34;adminUsername&#34;</span>: <span style="color:#e6db74">&#34;azureuser&#34;</span>,
      <span style="color:#e6db74">&#34;adminPassword&#34;</span>: <span style="color:#e6db74">&#34;&lt;pass&gt;&#34;</span>
    <span style="color:#f92672">}</span>,
    <span style="color:#e6db74">&#34;servicePrincipalProfile&#34;</span>: <span style="color:#f92672">{</span>
      <span style="color:#e6db74">&#34;clientId&#34;</span>: <span style="color:#e6db74">&#34;&lt;client_id&gt;&#34;</span>,
      <span style="color:#e6db74">&#34;secret&#34;</span>: <span style="color:#e6db74">&#34;&lt;secret&gt;&#34;</span>,
      <span style="color:#e6db74">&#34;objectId&#34;</span>: <span style="color:#e6db74">&#34;&lt;object_id&gt;&#34;</span>
    <span style="color:#f92672">}</span>
  <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<blockquote>
<p>Note: Remember to make sure that the Windows version you launch with is the same version you want to build and run your containers in.</p>
</blockquote>

<h2 id="orchestration">Orchestration</h2>

<ul>
<li>Helm Chart

<ul>
<li>How to write / generate a Helm Chart</li>
<li>Showcase a few examples of what we wrote</li>
</ul></li>
</ul>

<p>With our Windows Containers built and a Hybrid Kubernetes cluster instantiated we can now discuss how they can be successfully orchestrated in a distributed fashion.</p>

<h3 id="considerations">Considerations</h3>

<ul>
<li>Need to consider where container runs if need a windows server node use node selector</li>
<li>Option 1: Make use of taints and tolerations for Windows nodes</li>
<li>Option 2: Update helm charts and yaml files</li>
<li>Resource consumption: Need higher limits (300MB) as need windows background services</li>
<li>AKS Engine: Issue with them where do they go, and check GitHub</li>
</ul>

<h2 id="release-automation">Release Automation</h2>

<p><img src="/images/windows/cicd.png" alt="DevOps Pipeline" /></p>

<ul>
<li>Draft: Generate your skeleton</li>
<li>Helm: Package manager</li>
<li>Jenkins: Build process and push to container registry

<ul>
<li>How to write Jenkinsfile to support Windows + Linux</li>
<li>JNLP for Windows + Linux and how to write</li>
<li>Kubernetes Plugin (latest version)</li>
</ul></li>
<li>Octopus: Continuous deployment with business processes baked in</li>
<li>Artifactory / XRay: Security scanning for containers against all known CVE&rsquo;s</li>
<li>Securing cluster(s)</li>
</ul>

<h3 id="jenkins">Jenkins</h3>

<p>We have built our own containerized Jenkins JNLP agent against Windows 1803 and using the <code>dotnet-framework</code> base image.</p>

<p>Additionally leveraging chocolatey we have added a few other commonly required libraries.</p>

<p>Repository: <a href="https://github.com/sylus/jenkins-jnlp-agent-windows" target="_blank">windows-jnlp-agent-windows</a></p>

<h4 id="jenkinsfile">Jenkinsfile</h4>

<p>The following is largely a fully complete <code>Jenkinsfile</code> tailored to work with Windows nodes inside a Kubernetes cluster.</p>

<p>Simply replace the values below with your own configuration.</p>

<blockquote>
<p>Note: We makes use of the Kubernetes plugin where you can specify the specific cluster you wish to run CI tests against.</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">def label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;jnlp-win-</span><span style="color:#e6db74">${</span>UUID.randomUUID().toString()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>

podTemplate<span style="color:#f92672">(</span>
  cloud: <span style="color:#e6db74">&#39;&lt;k8s-cluster&gt;&#39;</span>,
  serviceAccount: <span style="color:#e6db74">&#39;jenkins-jenkins
</span><span style="color:#e6db74">  label: label,
</span><span style="color:#e6db74">  yaml: &#34;&#34;&#34;
</span><span style="color:#e6db74">apiVersion: v1
</span><span style="color:#e6db74">kind: Pod
</span><span style="color:#e6db74">metadata:
</span><span style="color:#e6db74">  labels:
</span><span style="color:#e6db74">    ci: windows-vs2017
</span><span style="color:#e6db74">spec:
</span><span style="color:#e6db74">  containers:
</span><span style="color:#e6db74">    - name: jnlp
</span><span style="color:#e6db74">      image: &lt;docker-registry&gt;/jenkins/jenkins-ext:jnlp-windows
</span><span style="color:#e6db74">      env:
</span><span style="color:#e6db74">        - name: JENKINS_URL
</span><span style="color:#e6db74">          value: &#39;</span>https://&lt;domain&gt;<span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">        - name: DOCKER_HOST
</span><span style="color:#e6db74">          value: &#39;</span>tcp://&lt;ipaddress&gt;:2375<span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">      tty: true
</span><span style="color:#e6db74">      working: &#39;</span>C:<span style="color:#ae81ff">\\</span>workspace<span style="color:#ae81ff">\\</span><span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">  tolerations:
</span><span style="color:#e6db74">    - effect: NoSchedule
</span><span style="color:#e6db74">      key: os
</span><span style="color:#e6db74">      operator: Equal
</span><span style="color:#e6db74">      value: windows
</span><span style="color:#e6db74">  nodeSelector:
</span><span style="color:#e6db74">    agentpool: ciwinpool1
</span><span style="color:#e6db74">&#34;&#34;&#34;
</span><span style="color:#e6db74">) {
</span><span style="color:#e6db74">    node (label) {
</span><span style="color:#e6db74">      // Update the gitlab status to pending
</span><span style="color:#e6db74">      // https://jenkins.io/doc/pipeline/steps/gitlab-plugin
</span><span style="color:#e6db74">      updateGitlabCommitStatus name: &#39;</span>build<span style="color:#e6db74">&#39;, state: &#39;</span>pending<span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">      bat &#39;</span>powershell.exe mkdir C:<span style="color:#ae81ff">\\</span>repo<span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">        dir(&#39;</span>C:<span style="color:#ae81ff">\\</span>repo<span style="color:#ae81ff">\\</span><span style="color:#e6db74">&#39;) {
</span><span style="color:#e6db74">            checkout scm
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">            withCredentials([usernamePassword(credentialsId: &#39;</span>docker-pull<span style="color:#e6db74">&#39;, passwordVariable: &#39;</span>pass<span style="color:#e6db74">&#39;, usernameVariable: &#39;</span>user<span style="color:#e6db74">&#39;)]) {
</span><span style="color:#e6db74">                bat &#34;docker login -u ${user} -p ${pass} &lt;docker-registry&gt;&#34;
</span><span style="color:#e6db74">                bat &#34;docker build . -t &lt;docker-registry&gt;/&lt;repo-name&gt; --no-cache&#34;
</span><span style="color:#e6db74">                bat &#34;docker push &lt;docker-registry&gt;/&lt;repo-name&gt;&#34;
</span><span style="color:#e6db74">            }
</span><span style="color:#e6db74">        }
</span><span style="color:#e6db74">      bat &#39;</span>powershell.exe remove-item C:<span style="color:#ae81ff">\\</span>repo -recurse -force<span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">
</span><span style="color:#e6db74">      // Update the gitlab status to success
</span><span style="color:#e6db74">      updateGitlabCommitStatus name: &#39;</span>build<span style="color:#e6db74">&#39;, state: &#39;</span>success<span style="color:#960050;background-color:#1e0010">&#39;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<h2 id="developer-perspective">Developer Perspective</h2>

<ul>
<li>Learn new scripting</li>
<li>Learn groovy, powershell, azure cli</li>
<li>Learn Docker + Visual Studio integration with docker</li>
<li>Limit betwen DevOps + Docker and where the overlap is</li>
<li>JenkinsFile or Similar CI</li>
<li>Prepared to learn and read resources (we can provide)</li>
<li>When should we go to .NET core

<ul>
<li>Performance</li>
<li>Speed of delivery</li>
<li>Density of Node</li>
</ul></li>
<li>3 types of Applications

<ul>
<li>WCF</li>
<li>Console</li>
<li>ASP.Net Web Application (should evaluate for this)</li>
</ul></li>
<li>Showstoppers

<ul>
<li>Related to Oracle (management DLL forget about .NET Core)</li>
<li>Why don&rsquo;t move to managed, we are using UDT only support for this</li>
</ul></li>
<li>Once .NET core is achieved

<ul>
<li>Is way less complex so it is encourage</li>
<li>For new projects should try to do .NET core (simplicity and stability of CI)</li>
<li>Our project PMDAC was successful for this (web.config improvements)</li>
<li>For existing project should access this, as runs better in Linux</li>
<li>Densely pack the node more and build time is dramatically reduced</li>
<li>Integration with Visual Studio</li>
<li>Debug container directly in IDE, breakpoint</li>
<li>Tested with .NET Core</li>
<li>First class integration in VSCode / Visual Studio</li>
</ul></li>
<li>Building application with Dockerfile

<ul>
<li>If don&rsquo;t have automation process for deployment then use visual studio to generate</li>
<li>We are doing it all in Dockerfile to keep all deps together</li>
<li>Need to understand how to use it in CLI / multi staging</li>
<li>Branching strategy, Layering</li>
<li>Dependency on Windows 10, Docker for Windows (mandatory) (important)</li>
</ul></li>
<li>Agile Practies

<ul>
<li>Useful to have CI first</li>
<li>When starting to fix issues, we can fail fast, fail often to succeed</li>
<li>CI will reduce time for developers later on</li>
<li>We use Jenkins -&gt; GitLab</li>
</ul></li>
<li>Separation of repositories

<ul>
<li>Helps to focus on task at hand</li>
<li>Faciliates a micro-services oriented approach</li>
<li>Challenge to refactor that</li>
</ul></li>
<li>DevOps and Developer perspective</li>
<li>Ask them which people are coming and there background so we can tailor discussion</li>
<li>Single Page application / Razor / Angular etc</li>
<li>Traefik (https)</li>
</ul>

<h3 id="anti-patterns">Anti-Patterns</h3>

<p>Right now it is unavoidable that the developer needs to learn a bit about Docker / Kubernetes in order to successfully deploy a Windows application on Kubernetes.</p>

<p>However this can technically be classified as a anti-pattern as we should strive for the developer workflow to remain consistent and for the orchestration to be seamless without any developer intervention. This is one of the main goals of the KNative initiative which brings serverless functionality to Kubernetes.</p>

<h2 id="debugging">Debugging</h2>

<p>There a quite a few ways to debug Windows Containers and / or your Windows Node on Kubernetes. Additionally the problem scope differs based on the level of the stack where you are experience an issue.</p>

<p>Always important to remember to start small and try to isolate the issue.</p>

<p>Here is some useful information that might help you further troubleshoot.</p>

<h2 id="debugging-windows-container-with-docker-compose">Debugging Windows Container with Docker Compose</h2>

<p>Even though docker swarm is on the way out and being wholly replaced by Kubernetes, docker-compose itself on a single virtual machine can prove very useful in order to prove things work before deploying your applications into a distributed cluster.</p>

<p>This is very useful for debugging as sometimes don&rsquo;t know where specific issues are in the cluster.</p>

<ul>
<li>Network Connectivity / Latency as everything is local</li>
<li>Issues with Service Endpoints / Timeouts</li>
<li>Memory / CPU issues</li>
<li>Number of Windows Containers</li>
</ul>

<p>Another important fact is that if everything works in a local docker-compose environment, it is a safe bet your containers should also work in a Kubernetes cluster with certain caveats applied.</p>

<h2 id="debugging-windows-nodes">Debugging Windows Nodes</h2>

<ul>
<li>How to debug Windows Containers</li>
<li>SSH in to Windows Node</li>
<li>How to read kubelet logs / journalctl</li>
<li>Wireshark</li>
<li>How to know which layer (Traefik)</li>
<li>Often use a known working trivial example to test communication between services

<ul>
<li><a href="https://gitlab.k8s.cloud.statcan.ca/ndm-cloud-dotnetteam/pingservice" target="_blank">Ping Service</a></li>
<li><a href="https://gitlab.k8s.cloud.statcan.ca/ndm-cloud-dotnetteam/pongservice" target="_blank">Pong Service</a></li>
</ul></li>
<li>Known issues and how to patch Windows Nodes</li>
</ul>

<h2 id="help">Help</h2>

<p>There are quite a few places where you can get help with issues related to Windows and Kubernetes. We have had particular success in the Slack channel and GitHub issue queue when their was spefic problems related to our Windows node.</p>

<ul>
<li><a href="https://kubernetes.slack.com" target="_blank">Slack</a> (#sig-windows / #sig-azure)</li>
<li><a href="https://message.gccollab.ca/home" target="_blank">GC Message</a></li>
<li><a href="https://github.com/Azure/aks-engine" target="_blank">GitHub</a></li>
<li>Azure Premium Ticket</li>
</ul>

<blockquote>
<p>Note: Please remember to be concise with your issue and always reference your Kubernetes version, Windows Kernel version, and specific network configuration.</p>
</blockquote>

<h2 id="referenced-links-in-order-they-appear">Referenced Links (In order they appear)</h2>

<ul>
<li><a href="https://draft.sh/" target="_blank">Draft</a></li>
<li><a href="https://helm.sh/" target="_blank">Helm</a></li>
<li><a href="https://jenkins.io/" target="_blank">Jenkins</a></li>
<li><a href="https://octopus.com" target="_blank">Octopus</a></li>
<li><a href="https://jfrog.com/artifactory/" target="_blank">Artifactory</a> / <a href="https://jfrog.com/xray/" target="_blank">XRay</a></li>
<li><a href="https://anthonychu.ca/post/aspnet-web-config-transforms-windows-containers-revisited/" target="_blank">Legacy Support</a></li>
<li><a href="https://fluentbytes.com/override-classic-asp-net-web-config-configuration-settings-when-using-docker-containers/" target="_blank">Configuration Builder</a></li>
<li><a href="https://github.com/sylus/jenkins-jnlp-agent-windows" target="_blank">windows-jnlp-agent-windows</a></li>
<li><a href="https://jfrog.com/blog/migrate-nexus-artifactory-manage-binaries-better/" target="_blank">Tutorial: Deploying Windows Apps with Kubernetes</a></li>
<li><a href="https://schd.ws/hosted_files/kccna18/1f/Deploying%20Windows%20Apps.pdf" target="_blank">Slides: Deploying Windows Apps with Kubernetes</a></li>
</ul>

<!-- Links Referenced -->

</div>

  
<footer class='entry-footer'>
  <div class='container sep-before'><div class='categories'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M22,19a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V5A2,2,0,0,1,4,3H9l2,3h9a2,2,0,0,1,2,2Z"/>
  
</svg>
<span class='screen-reader-text'>Categories: </span><a class='category' href='/categories/devops/'>devops</a>, <a class='category' href='/categories/kubernetes/'>kubernetes</a></div>
<div class='tags'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M20.59,13.41l-7.17,7.17a2,2,0,0,1-2.83,0L2,12V2H12l8.59,8.59A2,2,0,0,1,20.59,13.41Z"/>
  <line x1="7" y1="7" x2="7" y2="7"/>
  
</svg>
<span class='screen-reader-text'>Tags: </span><a class='tag' href='/tags/windows/'>windows</a>, <a class='tag' href='/tags/containers/'>containers</a>, <a class='tag' href='/tags/.net/'>.net</a></div>

  </div>
</footer>


</article>

<nav class='entry-nav'>
  <div class='container'><div class='prev-entry sep-before'>
      <a href='/blog/aks/iac/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader-text'>Previous post: </span>AKS: Infrastructure as Code</a>
    </div></div>
</nav>




      </main>

      <footer id='footer' class='footer'>
        <div class='container sep-before'><section class='widget widget-social_menu sep-after'><nav aria-label='Social Menu'>
    <ul><li>
        <a href='https://github.com/sylus' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Github account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
  
</svg>
</a>
      </li><li>
        <a href='https://twitter.com/william_hearn' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Twitter account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
  
</svg>
</a>
      </li><li>
        <a href='mailto:william.hearn@canada.ca' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Contact via Email</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
  <polyline points="22,6 12,13 2,6"/>
  
</svg>
</a>
      </li><li>
        <a href='https://gitlab.com/sylus' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Gitlab account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M22.65 14.39L12 22.13 1.35 14.39a.84.84 0 0 1-.3-.94l1.22-3.78 2.44-7.51A.42.42 0 0 1 4.82 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.49h8.1l2.44-7.51A.42.42 0 0 1 18.6 2a.43.43 0 0 1 .58 0 .42.42 0 0 1 .11.18l2.44 7.51L23 13.45a.84.84 0 0 1-.35.94z"/>
  
</svg>
</a>
      </li><li>
        <a href='https://linkedin.com/in/william-hearn-78688227' target='_blank' rel='noopener'>
          <span class='screen-reader-text'>Open Linkedin account in new tab</span><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"/>
  <rect x="2" y="9" width="4" height="12"/>
  <circle cx="4" cy="4" r="2"/>
  
</svg>
</a>
      </li></ul>
  </nav>
</section><div class='copyright'>
  <p> &copy; 2017-2019 Sylus </p>
</div>

        </div>
      </footer>

    </div>
  </div><script>window.__public_path__='\/assets\/js\/'</script>

<script src='/assets/js/main.fae8ed32.js'></script><script src='/js/custom.js'></script>

</body>

</html>

